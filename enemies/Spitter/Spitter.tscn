[gd_scene load_steps=9 format=3 uid="uid://hvhc1se8n78j"]

[ext_resource type="Script" uid="uid://f6paob8dsqvt" path="res://enemies/Spitter/spitter.gd" id="1_o4d81"]
[ext_resource type="Script" uid="uid://dr8bvnfebp76" path="res://addons/health_hitbox_hurtbox/health/health.gd" id="2_fdpw6"]
[ext_resource type="PackedScene" uid="uid://bfvvc1f6rf8gv" path="res://components/HealthBar/HealthBar.tscn" id="3_sef37"]
[ext_resource type="Script" uid="uid://dtfoilkdcfvgv" path="res://addons/health_hitbox_hurtbox/2d/hurt_box_2d/basic_hurt_box_2d.gd" id="4_ie3dq"]
[ext_resource type="Script" uid="uid://cobp4qehnuq77" path="res://addons/health_hitbox_hurtbox/resources/modifier.gd" id="5_r7ge4"]

[sub_resource type="Resource" id="Resource_fdpw6"]
script = ExtResource("5_r7ge4")
incrementer = 0
multiplier = 1.0
convert_affect = 0
convert_type = 0

[sub_resource type="Resource" id="Resource_sef37"]
script = ExtResource("5_r7ge4")
incrementer = 0
multiplier = 1.0
convert_affect = 0
convert_type = 0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xrlf0"]
size = Vector2(70, 70)

[node name="Spitter" type="Node2D"]
script = ExtResource("1_o4d81")

[node name="Health" type="Node" parent="."]
script = ExtResource("2_fdpw6")
current = 5
max = 5
metadata/_custom_type_script = "uid://dr8bvnfebp76"

[node name="HealthBar" parent="." node_paths=PackedStringArray("health") instance=ExtResource("3_sef37")]
offset_top = -52.0
offset_bottom = -42.0
health = NodePath("../Health")

[node name="BasicHurtBox2D" type="Area2D" parent="." node_paths=PackedStringArray("health")]
position = Vector2(0, 35)
script = ExtResource("4_ie3dq")
health = NodePath("../Health")
modifiers = Dictionary[int, ExtResource("5_r7ge4")]({
1: SubResource("Resource_sef37"),
2: SubResource("Resource_fdpw6")
})
metadata/_custom_type_script = "uid://dtfoilkdcfvgv"

[node name="CollisionShape2D" type="CollisionShape2D" parent="BasicHurtBox2D"]
position = Vector2(0, -35)
shape = SubResource("RectangleShape2D_xrlf0")

[node name="cooldown_timer" type="Timer" parent="."]
autostart = true

[node name="attack_timer" type="Timer" parent="."]
wait_time = 0.5

[connection signal="damaged" from="Health" to="." method="_on_health_damaged"]
[connection signal="died" from="Health" to="." method="_on_health_died"]
[connection signal="timeout" from="cooldown_timer" to="." method="_on_cooldown_timer_timeout"]
[connection signal="timeout" from="attack_timer" to="." method="_on_attack_timer_timeout"]
